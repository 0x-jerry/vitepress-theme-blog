import{_ as t,b as a,o as r,a5 as n}from"./chunks/framework.CAaOUjTN.js";const g=JSON.parse('{"title":"V2Ray+Nginx+TLS","description":"","frontmatter":{"title":"V2Ray+Nginx+TLS","date":"2019-08-14T07:08:11.906Z","tags":["Nginx","V2Ray","TLS"],"license":"CC BY-NC 4.0","read":{"text":"2 min read","minutes":1.875,"time":112500,"words":375}},"headers":[{"level":2,"title":"域名申请","slug":"域名申请","link":"#域名申请","children":[]},{"level":2,"title":"DNS 配置","slug":"dns-配置","link":"#dns-配置","children":[]},{"level":2,"title":"Nginx Https 配置","slug":"nginx-https-配置","link":"#nginx-https-配置","children":[]},{"level":2,"title":"V2Ray 配合 Nginx","slug":"v2ray-配合-nginx","link":"#v2ray-配合-nginx","children":[]}],"relativePath":"posts/v2ray+nginx+https.md","filePath":"posts/v2ray+nginx+https.md"}'),l={name:"posts/v2ray+nginx+https.md"};function i(s,e,o,p,d,h){return r(),a("div",null,e[0]||(e[0]=[n('<p><strong>这是一篇技术性文章，读者需要掌握基础的 Linux 基础，关于安装等一些简单的操作不做详细介绍</strong></p><p>这是一个比较复杂的配置，但是如果拆分开来，也就都一些比较简单的配置堆在一起而已。拆分如下：</p><ol><li>申请域名</li><li>DNS 配置</li><li>Nginx Https 配置</li><li>V2Ray 配合 TLS 配置</li></ol><p>服务器，博主用的 Debian 10，其它类型服务器大同小异</p><h2 id="域名申请" tabindex="-1">域名申请 <a class="header-anchor" href="#域名申请" aria-label="Permalink to &quot;域名申请&quot;">​</a></h2><p>请自行 Google，不做讲解，假设申请的域名是 <code>test.v2ray.cn</code></p><h2 id="dns-配置" tabindex="-1">DNS 配置 <a class="header-anchor" href="#dns-配置" aria-label="Permalink to &quot;DNS 配置&quot;">​</a></h2><p>这里用 <a href="https://www.cloudflare.com/" target="_blank" rel="noreferrer">Cloudflare</a> 的免费 DNS 解析服务，登录上去，添加域名</p><p>然后在 DNS 里面配置服务器地址</p><p><strong>这里注意一下</strong> Crypto 里面的配置，由于 Cloudflare 自带 SSL 服务，默认会选择 <code>Flexible</code> 方案，这可能会 <a href="https://support.cloudflare.com/hc/en-us/articles/115000219871" target="_blank" rel="noreferrer">导致无限重定向的问题</a>。所以这里需要改成 <code>Full(strict)</code> 方案</p><p>然后在对应的域名服务商那里配上 Cloudflare 的域名服务器(nameservers)</p><p>到此 DNS 就配置完了</p><h2 id="nginx-https-配置" tabindex="-1">Nginx Https 配置 <a class="header-anchor" href="#nginx-https-配置" aria-label="Permalink to &quot;Nginx Https 配置&quot;">​</a></h2><p>DNS 配置完了，当然还需要配置 Https 才行</p><p>第一步当然是 <a href="https://www.nginx.com/resources/wiki/start/topics/tutorials/install/" target="_blank" rel="noreferrer">安装 Nginx</a></p><p>然后是安装 TLS 证书，这里使用 <a href="https://certbot.eff.org/lets-encrypt/debianother-nginx" target="_blank" rel="noreferrer">Certbot</a> 傻瓜式一键安装，安装完之后，应该就可以用 Https 访问申请的域名了</p><h2 id="v2ray-配合-nginx" tabindex="-1">V2Ray 配合 Nginx <a class="header-anchor" href="#v2ray-配合-nginx" aria-label="Permalink to &quot;V2Ray 配合 Nginx&quot;">​</a></h2><p>这里直接参考 <a href="https://guide.v2fly.org/advanced/wss_and_web.html#%E9%85%8D%E7%BD%AE" target="_blank" rel="noreferrer">V2Ray 白话文</a></p>',18)]))}const x=t(l,[["render",i]]);export{g as __pageData,x as default};
